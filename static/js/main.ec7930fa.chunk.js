(this["webpackJsonpe-com"]=this["webpackJsonpe-com"]||[]).push([[0],{106:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),i=c(28),r=c.n(i),s=(c(61),c(51)),j=c(10),l=(c(62),c(63),c.p+"static/media/hp.5225c846.png"),d=c(52),o=c.n(d),b=c(53),u=c.n(b),h=c(16),O=c(2),m=Object(n.createContext)(),p=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(O.jsx)(m.Provider,{value:Object(n.useReducer)(t,c),children:a})},x=function(){return Object(n.useContext)(m)},g=c(38),f=(g.a.initializeApp({apiKey:"AIzaSyA5jSLkC1Ht5dEkDxrgTKNpBUpbdwMfzF4",authDomain:"e-commerce-d776c.firebaseapp.com",projectId:"e-commerce-d776c",storageBucket:"e-commerce-d776c.appspot.com",messagingSenderId:"455206186340",appId:"1:455206186340:web:b6903ad04a2a1237115e71",measurementId:"G-9HY47EBY3L"}).firestore(),g.a.auth());var v=function(){var e=x(),t=Object(j.a)(e,2),c=t[0],n=c.basket,a=c.user;return t[1],Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)(h.b,{to:"./",children:Object(O.jsx)("img",{src:l,className:"header-logo"})}),Object(O.jsxs)("div",{className:"searchBar",children:[Object(O.jsx)("input",{type:"text",className:"search-input"}),Object(O.jsx)(o.a,{className:"header-searchIcon"})]}),Object(O.jsxs)("div",{className:"header-nav",children:[Object(O.jsx)(h.b,{to:!a&&"/login",children:Object(O.jsxs)("div",{onClick:function(){a&&f.signOut()},className:"header-option",children:[Object(O.jsx)("span",{className:"header-one",children:"Hello Potterhead!"}),Object(O.jsx)("span",{className:"header-two",children:a?"Sign Out":"Sign In"})]})}),Object(O.jsxs)("div",{className:"header-option",children:[Object(O.jsx)("span",{className:"header-one",children:"Returns"}),Object(O.jsx)("span",{className:"header-two",children:"& Orders"})]})]}),Object(O.jsx)(h.b,{to:"./checkout",children:Object(O.jsxs)("div",{className:"basket",children:[Object(O.jsx)(u.a,{}),Object(O.jsx)("span",{className:"basket-count header-two",children:null===n||void 0===n?void 0:n.length})]})})]})},N=(c(78),c.p+"static/media/hogwarts.78ae69a2.png");c(79);var y=function(e){var t=e.id,c=e.title,n=e.image,a=e.price,i=e.rating,r=x(),s=Object(j.a)(r,2),l=(s[0].basket,s[1]);return Object(O.jsxs)("div",{className:"product",children:[Object(O.jsxs)("div",{className:"product-info",children:[Object(O.jsxs)("p",{children:[c,Object(O.jsxs)("p",{className:"product-price",children:[Object(O.jsx)("small",{children:"\u20b9"}),Object(O.jsx)("strong",{children:a})]})]}),Object(O.jsx)("div",{className:"product-rating",children:Array(i).fill().map((function(e,t){return Object(O.jsx)("p",{children:"\u2b50"})}))})]}),Object(O.jsx)("img",{src:n}),Object(O.jsx)("button",{onClick:function(){l({type:"ADD_TO_BASKET",item:{id:t,title:c,price:a,rating:i,image:n}})},children:"Add to Cart"})]})},k=c.p+"static/media/prod1.819eae49.PNG",S=c.p+"static/media/prod2.0db1943f.PNG",P=c.p+"static/media/prod3.3a8f6ed9.PNG",C=c.p+"static/media/prod4.148645d9.PNG",w=c.p+"static/media/prod5.da720786.PNG",E=c.p+"static/media/prod6.e0535406.PNG";var A=function(){return Object(O.jsx)("div",{className:"home",children:Object(O.jsxs)("div",{className:"home-container",children:[Object(O.jsx)("img",{src:N,className:"home-image"}),Object(O.jsxs)("div",{className:"home-row",children:[Object(O.jsx)(y,{id:1,title:"Harry Potter Tshirt (ALWAYS)",price:1499,rating:5,image:k}),Object(O.jsx)(y,{id:2,title:"Harry Potter Always NeckPiece",price:1299,rating:3,image:S}),Object(O.jsx)(y,{id:3,title:"Harry Potter Always NeckPiece",price:1299,rating:5,image:S}),Object(O.jsx)(y,{id:4,title:"Harry Potter Always NeckPiece",price:2299,rating:5,image:S})]}),Object(O.jsxs)("div",{className:"home-row",children:[Object(O.jsx)(y,{id:5,title:"Harry Potter Magic Mug",price:1299,rating:5,image:P}),Object(O.jsx)(y,{id:6,title:"Harry Potter Cushion",price:1499,rating:5,image:C}),Object(O.jsx)(y,{id:7,title:"Harry Potter Gryffindor Scarf",price:2499,rating:5,image:w}),Object(O.jsx)(y,{id:8,title:"Harry Potter Gryffindor Scarf",price:2499,rating:5,image:w}),Object(O.jsx)(y,{id:8,title:"Harry Potter Gryffindor Scarf",price:499,rating:5,image:w})]}),Object(O.jsxs)("div",{className:"home-row",children:[Object(O.jsx)(y,{id:9,title:"Harry Potter Complete Book Collection",price:1499,rating:5,image:E}),Object(O.jsx)(y,{id:10,title:"Harry Potter Complete Book Collection",price:1499,rating:5,image:E}),Object(O.jsx)(y,{id:11,title:"Harry Potter Complete Book Collection",price:1499,rating:5,image:E}),Object(O.jsx)(y,{id:12,title:"Harry Potter Complete Book Collection",price:1499,rating:5,image:E})]})]})})},B=c(11),H=(c(80),c(81),c(31)),T=c.n(H),I=c(39),R=c(24),_=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},D=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},F=function(e,t){switch(t.type){case"ADD_TO_BASKET":return Object(R.a)(Object(R.a)({},e),{},{basket:[].concat(Object(I.a)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var c=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(I.a)(e.basket);return c>=0?n.splice(c,1):console.warn("Cant remove product (id: ".concat(t.id," as its not in basket")),Object(R.a)(Object(R.a)({},e),{},{basket:n});case"SET_USER":return Object(R.a)(Object(R.a)({},e),{},{user:t.user});default:return e}};var G=function(){var e=Object(B.f)(),t=x(),c=Object(j.a)(t,2),n=c[0].basket;return c[1],Object(O.jsxs)("div",{className:"subtotal",children:[Object(O.jsx)(T.a,{renderText:function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("p",{children:["Subtotal (",n.length," items) :",Object(O.jsx)("strong",{children:e})]})})},decimalScale:2,value:_(n),displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),Object(O.jsx)("button",{onClick:function(t){return e.push("/payment")},children:"Proceed to Checkout"})]})};c(83);var M=function(e){var t=e.id,c=e.image,n=e.price,a=e.title,i=e.rating,r=x(),s=Object(j.a)(r,2),l=(s[0].basket,s[1]);return Object(O.jsxs)("div",{className:"checkout-product",children:[Object(O.jsx)("img",{src:c,className:"checkout-img"}),Object(O.jsxs)("div",{className:"checkout-info",children:[Object(O.jsx)("p",{className:"checkout-product-title",children:a}),Object(O.jsxs)("p",{className:"checkout-price",children:[Object(O.jsx)("small",{children:"\u20b9"}),Object(O.jsx)("strong",{children:n})]}),Object(O.jsx)("div",{className:"checkout-rating",children:Array(i).fill().map((function(e,t){return Object(O.jsx)("p",{children:"\u2b50"})}))}),Object(O.jsx)("button",{onClick:function(){l({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})]})]})};var K=function(){var e=x(),t=Object(j.a)(e,2),c=t[0],n=c.basket,a=c.user;return t[1],Object(O.jsxs)("div",{className:"checkout",children:[Object(O.jsx)("div",{className:"checkout-left",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{className:"user",children:["Welcome to the Wizarding World\u26a1  ",null===a||void 0===a?void 0:a.email]}),Object(O.jsx)("h2",{className:"checkout-title",children:"Your Shopping Basket"}),n.map((function(e){return Object(O.jsx)(M,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image})}))]})}),Object(O.jsx)("div",{className:"checkout-right",children:Object(O.jsx)(G,{})})]})},U=(c(84),c.p+"static/media/hogwarts.4ae65c6e.jpg"),z=(c(85),c.p+"static/media/harry.347e44e6.png");var L=function(){var e=Object(B.f)(),t=Object(n.useState)(""),c=Object(j.a)(t,2),a=c[0],i=c[1],r=Object(n.useState)(""),s=Object(j.a)(r,2),l=s[0],d=s[1];return Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("img",{src:z}),Object(O.jsx)("h1",{children:"Sign-in"}),Object(O.jsxs)("form",{children:[Object(O.jsx)("h5",{children:"Email"}),Object(O.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)}}),Object(O.jsx)("h5",{children:"Password"}),Object(O.jsx)("input",{type:"password",value:l,onChange:function(e){d(e.target.value)}}),Object(O.jsx)("button",{className:"sign-in-btn",type:"submit",onClick:function(t){t.preventDefault(),f.signInWithEmailAndPassword(a,l).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},children:"Sign-In"}),Object(O.jsx)("p",{children:"OR"}),Object(O.jsx)("p",{children:"Become a Potterhead!"})]}),Object(O.jsx)("button",{onClick:function(t){t.preventDefault(),f.createUserWithEmailAndPassword(a,l).then((function(t){console.log(t),t&&e.push("/")})).catch((function(e){return alert(e.message)}))},className:"account-btn",children:"Sign up Now! "})]})};var W=function(){return Object(O.jsxs)("div",{className:"login",children:[Object(O.jsx)("img",{src:U,className:"bg-img"}),Object(O.jsx)(L,{})]})},J=c(26),V=c.n(J),Y=c(37),q=(c(87),c(23)),Q=c(54),X=c.n(Q);var Z=function(){var e=Object(B.f)(),t=x(),c=Object(j.a)(t,2),a=c[0],i=a.basket,r=a.user,s=(c[1],Object(n.useState)(null)),l=Object(j.a)(s,2),d=l[0],o=l[1],b=Object(n.useState)(!0),u=Object(j.a)(b,2),m=u[0],p=u[1],g=Object(n.useState)(!1),f=Object(j.a)(g,2),v=f[0],N=f[1],y=Object(n.useState)(""),k=Object(j.a)(y,2),S=k[0],P=k[1],C=Object(n.useState)(!0),w=Object(j.a)(C,2),E=w[0],A=w[1];Object(n.useEffect)((function(){(function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X()({method:"post",url:"/payment/create?total=".concat(100*D(i))});case 2:t=e.sent,A(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var H=Object(q.useStripe)(),I=Object(q.useElements)(),R=function(){var t=Object(Y.a)(V.a.mark((function t(c){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),N(!0),t.next=4,H.confirmCardPayment(E,{payment_method:{card:I.getElement(q.CardElement)}}).then((function(t){t.paymentIntent;P(!0),o(null),N(!1),e.replaceState("/orders")}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"payment",children:Object(O.jsxs)("div",{className:"payment-container",children:[Object(O.jsxs)("h1",{children:["Checkout (",Object(O.jsxs)(h.b,{to:"/checkout",children:[null===i||void 0===i?void 0:i.length," items"]}),")"]}),Object(O.jsxs)("div",{className:"payment-section",children:[Object(O.jsx)("div",{className:"payment-title",children:Object(O.jsx)("h3",{children:"Delivery Address"})}),Object(O.jsxs)("div",{className:"payment-address",children:[Object(O.jsx)("p",{children:null===r||void 0===r?void 0:r.email}),Object(O.jsx)("p",{children:"28, Slv Cplx, Ullal Main Road, Jnanabharathi"}),Object(O.jsx)("p",{children:" Bangalore, Karnataka"}),Object(O.jsx)("p",{children:"560056"})]})]}),Object(O.jsxs)("div",{className:"payment-section",children:[Object(O.jsx)("div",{className:"payment-title",children:Object(O.jsx)("h3",{children:"Review Items and Delivery"})}),Object(O.jsx)("div",{className:"payment-items",children:i.map((function(e){return Object(O.jsx)(M,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image})}))})]}),Object(O.jsxs)("div",{className:"payment-section",children:[Object(O.jsx)("div",{className:"payment-title",children:Object(O.jsx)("h3",{children:"Payment-method"})}),Object(O.jsxs)("div",{className:"payment-details",children:[Object(O.jsxs)("form",{onSubmit:R,children:[Object(O.jsx)(q.CardElement,{onChange:function(e){p(e.empty),o(e.error?e.error.message:"")}}),Object(O.jsxs)("div",{className:"price-container",children:[Object(O.jsx)(T.a,{renderText:function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("h3",{children:["Order Total : ",e]})})},decimalScale:2,value:D(i),displayType:"text",thousandSeparator:!0,prefix:"Rs"}),Object(O.jsx)("button",{disabled:v||m||S,children:Object(O.jsx)("span",{children:v?Object(O.jsx)("p",{children:"Processing Payment"}):"Confirm Order"})})]})]}),d&&Object(O.jsx)("div",{children:d})]})]})]})})},$=c(55),ee=Object($.a)("pk_test_51JPrurSCU3I1AFg23U7cJ9iQnnCqFLHwku0DlHOzwbVdEN8z3a8wlNrNxiPS3HVNjfKraOB0gOSdPik4R2Y6xcKM00dVSqgfwe");var te=function(){var e=x(),t=Object(j.a)(e,2);Object(s.a)(t[0]);var c=t[1];return Object(n.useEffect)((function(){f.onAuthStateChanged((function(e){console.log("The User is >>>",e),c(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),Object(O.jsx)(h.a,{children:Object(O.jsx)("div",{className:"app",children:Object(O.jsxs)(B.c,{children:[Object(O.jsxs)(B.a,{path:"/login",children:[Object(O.jsx)(v,{}),Object(O.jsx)(W,{})]}),Object(O.jsxs)(B.a,{path:"/checkout",children:[Object(O.jsx)(v,{}),Object(O.jsx)(K,{})]}),Object(O.jsxs)(B.a,{path:"/payment",children:[Object(O.jsx)(v,{}),Object(O.jsx)(q.Elements,{stripe:ee,children:Object(O.jsx)(Z,{})})]}),Object(O.jsxs)(B.a,{path:"/",children:[Object(O.jsx)(v,{}),Object(O.jsx)(A,{})]})]})})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,119)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(p,{initialState:{basket:[],user:null},reducer:F,children:Object(O.jsx)(te,{})})}),document.getElementById("root")),ce()},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},87:function(e,t,c){}},[[106,1,2]]]);
//# sourceMappingURL=main.ec7930fa.chunk.js.map